<!DOCTYPE html>
<html lang="zh">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PinPin CollageCam</title>
  <link rel="stylesheet" href="style.css">
  <script src="p5.js"></script>
  <script src="p5.sound.min.js"></script>
  <script src="sketch.js" defer></script>

   <!-- Google tag (gtag.js) -->
 <script async src="https://www.googletagmanager.com/gtag/js?id=G-06N4BE43S9"></script>
 <script>
   window.dataLayer = window.dataLayer || [];
   function gtag(){dataLayer.push(arguments);}
   gtag('js', new Date());
 
   gtag('config', 'G-06N4BE43S9');
 </script>
 
</head>
<body>
  <div class="app-title">PinPin CollageCam</div>

  
  


<!-- ä»…åœ¨æ‰‹æœºæ¨ªå±æ—¶æ˜¾ç¤º -->
<button id="toggleSidebar">ğŸ“‚</button>
<button id="closeSidebar" style="display: none;">â†</button>

<div id="container">
  <aside id="sidebar">
    <div class="app-slogan">
      Fragments of time,<br>pieced into poetry.
    </div>

    <div class="section">
      <div class="label">é€‰æ‹©æ¨¡å¼</div>
      <button id="modeFree" class="modeBtn">è‡ªç”±æ‹¼è´´</button>
      <button id="modeGrid" class="modeBtn">å®šæ ¼æ‹¼å›¾</button>
    </div>

    <div id="freeOptions" class="section">
      <div class="label">å½¢çŠ¶</div>
      <button id="shapeRect" class="shapeBtn">â–­</button>
      <button id="shapeEllipse" class="shapeBtn">â¬­</button>
      <button id="shapeFlower" class="shapeBtn">â</button>

    </div>




    <div id="gridOptions" class="section" style="display: none;">
      <div class="label">ç½‘æ ¼å¤§å°</div>
      <button class="gridSizeBtn" data-size="4">4Ã—4</button>
      <button class="gridSizeBtn" data-size="6">6Ã—6</button>
      <button class="gridSizeBtn" data-size="8">8Ã—8</button>
    </div>

    <div class="section">
  <div class="label">è‡ªç”±ç”»ç¬”</div>
  <button id="toggleDrawing">ğŸ–ï¸ å¼€/å…³</button>
  <!-- ç”»ç¬”æ“ä½œ -->
<!-- <button id="undoDrawBtn">â†©ï¸ ç”»ç¬”æ’¤é”€</button> -->
<button id="clearDrawBtn">ğŸ–Œï¸æ¸…ç©º</button>
</div>

    <div class="label">å¯¼å‡ºé€‰é¡¹</div>
    <div class="section bottom">
      <button id="saveBtn">ğŸ“· å¯¼å‡ºå›¾ç‰‡</button>
      <!-- æ‹¼è´´æ“ä½œ -->
<button id="undoSnapBtn">æ‹¼è´´æ’¤é”€</button>
<button id="clearSnapBtn">æ‹¼è´´æ¸…ç©º</button>


      <button id="saveDraft">ä¿å­˜è‰ç¨¿</button>
<button id="loadDraft">è½½å…¥è‰ç¨¿</button>

    </div>

          <div class="label">è¾¹æ¡†é¢œè‰²</div>
      <div id="colorButtons" class="color-group"></div>
    
  </aside>

  <section id="main">
    <div id="canvas-container"></div>
    <button id="flipBtn" title="åˆ‡æ¢æ‘„åƒå¤´">ğŸ”„</button>
  </section>
</div>






<script>
  const sidebar = document.getElementById("sidebar");
  const toggleBtn = document.getElementById("toggleSidebar");
  const closeBtn = document.getElementById("closeSidebar");

  function openSidebar() {
    sidebar.classList.add("show");
    toggleBtn.classList.remove("show");
    closeBtn.classList.add("show");
  }

  function closeSidebar() {
    sidebar.classList.remove("show");
    toggleBtn.classList.add("show");
    closeBtn.classList.remove("show");
  }

  toggleBtn.addEventListener("click", openSidebar);
  closeBtn.addEventListener("click", closeSidebar);
  toggleBtn.addEventListener("touchstart", (e) => {
    e.preventDefault();
    openSidebar();
  });
  closeBtn.addEventListener("touchstart", (e) => {
    e.preventDefault();
    closeSidebar();
  });

  // é»˜è®¤åªåœ¨å°å±æ˜¾ç¤ºæŒ‰é’®
  window.addEventListener("resize", () => {
    if (window.innerWidth <= 768) {
      toggleBtn.classList.add("show");
    } else {
      toggleBtn.classList.remove("show");
      closeBtn.classList.remove("show");
      sidebar.classList.remove("show");
    }
  });

  // åˆå§‹åˆ¤æ–­
  if (window.innerWidth <= 768) {
    toggleBtn.classList.add("show");
  }
</script>




</body>
</html>
